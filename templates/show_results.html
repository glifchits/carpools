{% extends "layout.html" %}

{% block title %} | Search results{% endblock %}
{% block content %}

<h2>
{% if departure and destination %}
  Leaving {{ departure }} to go to {{ destination }}
{% elif departure %}
  Rides leaving {{ departure }}
{% else %}
  Rides going to {{ destination }}
{% endif %}
</h2>

{% for (name, rides) in [
  ("Matches", matches), 
  ("Arriving", arriving), 
  ("Departing", departing) ] %}
{% if not rides %}
{% continue %}
{% endif %}
<b>{{ name }}</b>
<ul>
{% for ride in rides %}
<li>
  <span class=name>{{ ride['driver'] }}</span> is leaving
  <span class=departure>{{ ride['departure'] }}</span> to go to
  <span class=destination>{{ ride['destination'] }}</span>
</li>
{% endfor %}
</ul>
{% endfor %}
{% endblock %}
